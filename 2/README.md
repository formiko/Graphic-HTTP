# 第2章 简单的HTTP协议
## 2.8 使用Cookie的状态管理
* HTTP是无状态协议，它不对之前发生过的请求和响应的状态进行管理。也就是说，无法根据之前的状态进行本次的请求处理。
* 假设要求登录认证的Web页面本身无法进行状态的管理（不记录已登录的状态），那么每次跳转新页面就要再次登录，或者要在每次请求报文中附加参数来管理登录状态。
* 无状态协议的优点：由于不保存状态，自然可以减少服务器的CPU及内存资源的消耗。HTTP协议本身非常简单，所以才会被应用在各种场景里。
* Cookie技术通过在请求和响应报文中写入Cookie信息来控制客户端的状态。
* 流程：Cookie会根据从服务器端发送的响应报文内的一个叫做Set-Cookie的首部字段信息，通知客户端保存Cookie。当下次客户端再往服务器发送请求时，客户端会自动在请求报文中加入Cookie值后发送出去。服务器端发现客户端发送过来的Cookie后，会去检查究竟是从哪一个客户端发来的连接请求，然后对比服务器上的记录，最后得到之前的状态信息。
* 没有Cookie信息状态下的请求
  1.客户端发出请求->服务器(服务器生成Cookie，记住是谁发送的)
  2.在响应中添加Cookie后返回响应(客户端保存Cookie)
* 第2次以后（存有Cookie信息状态）的请求
  3.客户端在请求中添加Cookie后发送请求(服务器检查Cookie)
  4.服务器响应
